# Nest Azure Active Directory Token Validator

<p align="center">
  <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/access-tokens#validating-tokens" target="blank"><img src="data:image/png;base64,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" width="320" alt="Azure Ad Logo" /></a>
</p>

## Description

[Nest](https://github.com/nestjs/nest) framework Module for validating Azure AD JWT Tokens. <br/>
The Module exports an [AzureTokenValidationService](./src/azure-token-validation/azure-token-validation.service.ts) for validating tokens
as well as a guard you might consider using [AzureActiveDirectoryGuard](./src/guards/zure-active-directory.guard.ts). <br/>
Note: The exported guard expects the jwt(json web token) in an authtoken header (in Aws APIGateway we don't like to mess with the Authorization header).

## Installation

```bash
$ npm install --save nest-azure-ad-jwt-validator
```

## Test

```bash
# unit tests
$ npm run test

# test coverage
$ npm run test:cov
```

## Stay in touch

- Author - [Benjamin Main](mailto:bmain@lumeris.com)

## License

nest-azure-ad-jwt-validator is [MIT licensed](LICENSE).
